import { Meta, ArgsTable, Canvas, Story } from '@storybook/addon-docs/blocks'

<Meta title='Back End/Query'/>

# Query
## Query: getQuestionMetaData

### getQuestionMetaData(questionID: String!): Question!

The `getQuestionMetaData` query retrieves metadata about a specific interview question identified by its ID. Here are the details:

Input:

* `questionID` (required): The ID of the interview question to retrieve metadata for.

Output:

* `GSI1PK`: The partition key for the global secondary index.
* `interviewQuestion`: The text of the interview question.
* `interviewQuestionSampleAns`: A sample answer to the interview question.
* `interviewQuestionType`: The type of the interview question (e.g., behavioral, technical).
* `QuestionID`: The ID of the interview question.
* `difficulty`: The difficulty level of the interview question.
* `estimatedSecond`: The estimated duration in seconds for the interview question.

\
Example:

```javascript
query {
  getQuestionMetaData(questionID: "abc123") {
    GSI1PK
    interviewQuestion
    interviewQuestionSampleAns
    interviewQuestionType
    QuestionID
    difficulty
    estimatedSecond
  }
}

{
  "data": {
    "getQuestionMetaData": {
      "GSI1PK": "question#abc123",
      "interviewQuestion": "What is your experience with React?",
      "interviewQuestionSampleAns": "I have worked with React for 2 years on a number of projects, including ...",
      "interviewQuestionType": "technical",
      "QuestionID": "abc123",
      "difficulty": "intermediate",
      "estimatedSecond": 120
    }
  }
}

```

Error:

* `InvalidQuestionID`: The provided question ID is not valid.
* `InternalServerError`: An internal server error occurred while processing the request.

#### Pipeline

[getQuestionMetaDataHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/qr7b7du3gfd5dcyt2tov4abofy/edit?referrer=/schema/Query/getQuestionMetaData/pipelineResolver)

## Query: getQuestionsPaginated

### getQuestionsPaginated(limit: Int, nextToken: String): PaginatedQuestionList!

The `getQuestionsPaginated` query retrieves a paginated list of interview questions.

#### Input

* `limit` (optional): An integer representing the maximum number of items to return in the response. If not provided, a default limit will be used.
* `nextToken` (optional): A string token returned from a previous paginated query. Use this to retrieve the next set of results.

#### Output

* `questionList`: An array of `Question` objects.
* `nextToken` (optional): A string token used to retrieve the next set of results.
* `totalRecords`: An integer representing the total number of interview questions in the system.

\
Example:

Input:

```JSON
{
  "limit": 5,
  "nextToken": "eyJib3RvX3R5cGUiOiJzZWFyY2hfcGFnZSIsInN0YXRlIjoiMjAyMy0xMi0wNVQwMDo1NDo1MC4wMDAwMDArMDA6MDAiLCJkYXRlIjoiMjAyMy0xMi0wNVQwMDo1NDo1MC4wMDAwMDArMDA6MDAiLCJzdWNjZXNzIjoiMTIzNDU2Nzg5MCJ9"
}

```

Output:

```JSON
{
  "questionList": [
    {
      "GSI1PK": "question#80b774f0-1c56-11ec-9826-41ca3e61e3f7",
      "interviewQuestion": "What experience do you have working in a team environment?",
      "interviewQuestionSampleAns": "I have worked in teams throughout my academic and professional career. My most recent experience was working on a team project for a client where I had to collaborate with team members in different departments. We had to coordinate our work and ensure that we met our deadlines. I was able to successfully communicate and delegate tasks to team members and we delivered the project on time.",
      "interviewQuestionType": "text",
      "QuestionID": "80b774f0-1c56-11ec-9826-41ca3e61e3f7",
      "difficulty": "Intermediate",
      "estimatedSecond": 60
    },
    {
      "GSI1PK": "question#5a09f5f0-1c56-11ec-9826-41ca3e61e3f7",
      "interviewQuestion": "Tell me about a project you worked on that required you to be innovative or creative.",
      "interviewQuestionSampleAns": "I once worked on a project for a client who was launching a new product. They wanted an innovative way to promote it, so I suggested creating a social media campaign that included interactive elements such as quizzes and polls. The campaign was very successful and the client was very happy with the results. We were able to generate a lot of buzz around the product and it helped to increase sales.",
      "interviewQuestionType": "text",
      "QuestionID": "5a09f5f0-1c56-11ec-9826-41ca3e61e3f7",
      "difficulty": "Intermediate",
      "estimatedSecond": 90
    },
    {
      "GSI1PK": "question#6c4cb5c0-1c56-11ec-9826-41ca3e61e3f7",
      "interviewQuestion": "What motivated you to apply for this job?",
    }
  ]
}

```

Error:

* `InternalServerError`: An internal server error occurred while processing the request.

##### Pipeline

[getQuestionListWithPagedHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/2puwxshnjrcrtgwwn34wasrye4/edit?referrer=/schema/Query/getQuestionsPaginated/pipelineResolver)

[getNumOfQuestionHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/4sjtniqjtzamtckofohnjkl2wi/edit?referrer=/schema/Query/getQuestionsPaginated/pipelineResolver)

## Query: getQuestionUsageMetaData

### getQuestionUsageMetaData: QuestionUsageMetaData!

The `getQuestionUsageMetaData` query retrieves metadata about the usage of interview questions in the system.

### Input

This query does not take any input.

### Output

The query returns a `QuestionUsageMetaData` object.

`QuestionUsageMetaData`:

* `totalNumOfQuestion`: An integer representing the total number of questions in the system.

Example

```graphql
query GetQuestionUsageMetaData {
  getQuestionUsageMetaData {
    totalNumOfQuestion
  }
}

```

Errors This query may return the following errors:

* `DataNotFoundError`: Data was not found.
* `InternalServerError`: An internal server error occurred while processing the request.

#### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getUserInterviewUsageMetaData/pipelineResolver)

[getUserInterviewUsageMetaDataHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/urwkguhfabfgnkmm6i55subgdq/edit?referrer=/schema/Query/getUserInterviewUsageMetaData/pipelineResolver)


## Query: getUser

### `getUser(emailAddress: AWSEmail!)`

This query returns a `User` object with the given email address.

#### Input

* `emailAddress: AWSEmail!`: The email address of the user to retrieve.

#### Output

* `User`: An object representing the user with the given email address.
* `userEmailAddress: AWSEmail!`: The email address of the user.
* `userRole: String!`: The role of the user (e.g. "admin", "guest").
* `userName: String!`: The name of the user.
* `hasProfile: Boolean!`: Whether or not the user has created a profile.
* `allowPublicInterview: Boolean!`: Whether or not the user allows public access to their interview responses.

##### Example

```graphql
query GetUser {
  getUser(emailAddress: "user@example.com") {
    userEmailAddress
    userRole
    userName
    hasProfile
    allowPublicInterview
  }
}
```

##### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `InternalServerError`: An internal server error occurred while processing the request.

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)

## Query: getUserEducations

Input:

* emailAddress (required): AWSEmail! - The email address of the user whose education details are being retrieved.

Output:

* Educations - The education details of the user.

Description: The getUserEducations function retrieves the education details of the user with the given email address. It returns an Educations object that contains an array of Education objects. Each Education object contains the following fields:

* eduDegree: String - The degree earned by the user.
* eduFieldStudy: String - The field of study in which the degree was earned.
* eduSchool: String - The name of the school where the degree was earned.
* eduStartDate: AWSDate - The start date of the education program.
* eduEndDate: AWSDate - The end date of the education program.

If the specified user does not exist or has no education details associated with their account, an empty Educations object is returned.

Example Usage:

```graphql
codequery {
  getUserEducations(emailAddress: "user@example.com") {
    educations {
      eduDegree
      eduFieldStudy
      eduSchool
      eduStartDate
      eduEndDate
    }
  }
}
```

Example Response:

```json
jsonCopy code{
  "data": {
    "getUserEducations": {
      "educations": [
        {
          "eduDegree": "Bachelor's degree",
          "eduFieldStudy": "Computer Science",
          "eduSchool": "XYZ University",
          "eduStartDate": "2014-09-01",
          "eduEndDate": "2018-05-15"
        },
        {
          "eduDegree": "Master's degree",
          "eduFieldStudy": "Business Administration",
          "eduSchool": "ABC University",
          "eduStartDate": "2019-09-01",
          "eduEndDate": "2021-05-15"
        }
      ]
    }
  }
}
```

### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `InternalServerError`: An internal server error occurred while processing the request.

* There is no EducationsNotFoundError, if no work histories, query will return empty array

#### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)

[getWorkHistoriesHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/b4kfmtj7tffsrams37tzcrkwa4/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)

## Query: getUserInterviewMetaData

### getUserInterviewMetaData

This query returns a single Interview object with the given email address, interview ID and interview question ID.

#### Input

* emailAddress: AWSEmail!: The email address of the user who owns the interview.
* interviewID: String!: The ID of the interview to retrieve metadata for.
* interviewQuestionID: String!: The ID of the question associated with the interview.

#### Output

Interview: An object representing an interview.

Interview Fields

* interviewID: String!: The ID of the interview.
* interviewDateTime: AWSDateTime!: The date and time the interview was conducted.
* interviewQuestionID: String!: The ID of the question associated with the interview.
* interviewVideoKey: String!: The S3 key of the interview video.
* `interviewQuestion: String`: The interview question

#### Example

```graphql
query GetInterviewMetaData {
  getUserInterviewMetaData(
    emailAddress: "user@example.com",
    interviewID: "1234",
    interviewQuestionID: "5678"
  ) {
    interviewID
    interviewDateTime
    interviewQuestionID
    interviewVideoKey
    interviewQuestion
  }
}
```

#### Errors

This query may return the following errors:

* UserNotFoundError: The user with the given email address was not found.
* InterviewNotFoundError: The interview with the given ID was not found.
* ArgumentMissingError: The query is missing an argument.
* InternalServerError: An internal server error occurred while processing the request.

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getInterviewsByQuestionID/pipelineResolver)

[getUserInterviewMetaDataHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/rsyjibfklrenjcwcapdbcxxqnq/edit?referrer=/schema/Query/getUserInterviewMetaData/pipelineResolver)

## Query: getUserInterviewsByMonth

getUserInterviewsByMonth(emailAddress: AWSEmail!): InterviewList!

This query returns a list of interviews in the current month

### Arguments

* emailAddress: AWSEmail!: The email address of the user to retrieve interviews for.

### Return Value

* InterviewList: An object representing a list of interviews for the user.
* interviewList: \[Interview]!: An array of Interview objects containing interview details.
* interviewID: String!: The unique identifier for the interview.
* interviewDateTime: AWSDateTime!: The date and time the interview was conducted.
* interviewQuestionID: String!: The unique identifier for the interview question.
* interviewVideoKey: String!: The S3 key for the interview video.
* interviewQuestion: String!: The text of the interview question.
* interviewQuestionType: String!: The type of interview question.

\

#### Examples

Retrieve a list of interviews grouped by month for a user with the email address `john@example.com`:

```javascript
query GetUserInterviewsByMonth {
  getUserInterviewsByMonth(emailAddress: "user@example.com") {
    interviewList {
      interviewID
      interviewDateTime
      interviewQuestionID
      interviewVideoKey
      interviewQuestion
      interviewQuestionType
    }
  }
}

```

#### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `InternalServerError`: An internal server error occurred while processing the request.

* There is no InterviewNotFoundError, if no work histories, query will return empty array

##### Pipeline

getUserInterviewByMonthLambda

## Query: getUserInterviewsByQuestionID(Deprecated)

getUserInterviewsByQuestionID(emailAddress: AWSEmail!, interviewID: String!): InterviewList!

This query returns a list of interview objects associated with a specific interview ID and email address.

### Input

* `emailAddress: AWSEmail!`: The email address of the user whose interview should be retrieved.
* `interviewID: String!`: The ID of the interview to retrieve.

### Output

* `InterviewList`: An object representing a list of interviews.
* `InterviewList Fields`:
* `interviewList: [Interview]`: A list of interview objects representing the user's interviews matching the interview ID.
* `Interview Fields`:
* `interviewID: String`: The ID of the interview.
* `interviewDateTime: AWSDateTime`: The date and time the interview was conducted.
* `interviewQuestionID: String`: The ID of the question associated with the interview.
* `interviewVideoKey: String`: The S3 key of the interview video.

#### Example

```graphql
GetInterviewListByID {
  getUserInterviewsByQuestionID(emailAddress: "user@example.com", interviewID: "123") {
    interviewList {
      interviewID
      interviewDateTime
      interviewQuestionID
      interviewVideoKey
    }
  }
}
```

Errors This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing an argument.
* `InternalServerError`: An internal server error occurred while processing the request.

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getInterviewsByQuestionID/pipelineResolver)

[getInterviewListByQuestionHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/lfvczee6sra7pamgvmjvyjxvoy/edit?referrer=/schema/Query/getInterviewsByQuestionID/pipelineResolver)

## Query: getUserInterviewsPaginated

### getUserInterviewsPaginated`(emailAddress: AWSEmail!, limit: Int, nextToken: String)`

This query returns a paginated list of `Interview` objects associated with the given email address.

#### Input

* `emailAddress: AWSEmail!`: The email address of the user whose interviews should be retrieved.
* `limit: Int`: The maximum number of items to return in a page. Optional; default is 10.
* `nextToken: String`: A token to specify where to start paginating. Optional.

#### Output

* `PaginatedInterviewList`: An object representing a paginated list of interviews.

**`PaginatedInterviewList` Fields**

* `interviewList: [Interview]`: A list of `Interview` objects representing the user's interviews.
* `nextToken: String`: A token to specify where to start paginating for the next page of results.
* `totalRecords: Int`: The total number of `Interview`

**`Interview` Fields**

* `interviewID: String`: The ID of the interview.
* `interviewDateTime: AWSDateTime`: The date and time the interview was conducted.
* `interviewQuestionID: String`: The ID of the question associated with the interview.
* `interviewVideoKey: String`: The S3 key of the interview video.
* `interviewQuestion: String`: The interview question

#### Example

```graphql
query GetInterviewList {
  getUserInterviewsPaginated(emailAddress: "user@example.com", limit: 10, nextToken: "abc123") {
    interviewList {
      interviewID
      interviewDateTime
      interviewQuestionID
      interviewVideoKey
      interviewQuestion
    }
    nextToken
    totalRecords
  }
}
```

#### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `InternalServerError`: An internal server error occurred while processing the request.

* There is no InterviewNotFoundError, if no work histories, query will return empty array

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)

[getInterviewListPaginatedHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/rehqexh6ejbo7pe5gjjnivvqey/edit?referrer=/schema/Query/getInterviewsPaginated/pipelineResolver)

[getTotalUserInterviewCount](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/kxg7kgl6qrb5vavj6e33lkrpcq/edit?referrer=/schema/Query/getInterviewsPaginated/pipelineResolver)

## Query: getUserInterviewUsageMetaData

### getUserInterviewUsageMetaData(emailAddress: AWSEmail!): UserInterviewUsageMetaData!

This query retrieves usage metadata for a user's interviews.

Input

* `emailAddress: AWSEmail!`: The email address of the user whose interview usage metadata should be retrieved.

Output

* `UserInterviewUsageMetaData`: An object containing the user's interview usage metadata.

UserInterviewUsageMetaData Fields

* `userInterviewNumCount: Int`: The total number of interviews conducted by the user.
* `userInterviewQuestionSet: [Int]`: The total number of unique interview question sets used by the user.

Example

```graphql
query GetUserInterviewUsageMetaData {
  getUserInterviewUsageMetaData(emailAddress: "user@example.com") {
    userInterviewNumCount
    userInterviewQuestionSet
  }
}
```

Errors This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `InternalServerError`: An internal server error occurred while processing the request.

#### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getUserInterviewUsageMetaData/pipelineResolver)

[getUserInterviewUsageMetaDataHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/urwkguhfabfgnkmm6i55subgdq/edit?referrer=/schema/Query/getUserInterviewUsageMetaData/pipelineResolver)

## Query: getUserProfile

### `getUserProfile(emailAddress: AWSEmail!)`

This query returns a `Profile` object associated with the given email address.

#### Input

* `emailAddress: AWSEmail!`: The email address of the user whose profile should be retrieved.

#### Output

* `Profile`: An object representing the user's profile.

**`Profile` Fields**

* `fName: String`: The first name of the user.
* `lName: String`: The last name of the user.
* `photoImgURL: AWSURL`: The key to the photo of the user's profile.
* `coverImgURL: AWSURL`: The key to the cover image of the user's profile.
* `resumeKey: String`: The key to the resume of the user's profile.
* `addressLine1: String`: The first line of the user's address.
* `addressLine2: String`: The second line of the user's address.
* `city: String`: The city of the user's address.
* `state: String`: The state of the user's address.
* `postalCode: String`: The postal code of the user's address.
* `country: String`: The country of the user's address.
* `joiningDate: AWSDate`: The date the user joined the platform.
* `contact: AWSPhone`: The phone number of the user.

##### Example

```graphql
query GetProfile {
  getUserProfile(emailAddress: "user@example.com") {
    fName
    lName
    photoImgKey
    coverImgKey
    resumeKey
    addressLine1
    addressLine2
    city
    state
    postalCode
    country
    joiningDate
    contact
  }
}
```

##### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `ProfileNotFoundError`: The profile for the user with the given email address was not found.
* `InternalServerError`: An internal server error occurred while processing the request.

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getProfile/pipelineResolver)

[getProfileHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/lme7uzmcwrespnyqn3bpswleny/edit?referrer=/schema/Query/getProfile/pipelineResolver)

## Query: getUserResumeScans

This query retrieves all resume scans for the specified user, identified by their email address. The results will be returned as a list of ResumeScan objects.

### Input

* emailAddress (required): The email address of the user for whom the resume scans are being retrieved.

### Output

The query returns a ResumeScanList object containing the following field: resumeScanList: An array of ResumeScan objects, each containing the following fields:

* displayName: The display name of the user.
* jobName: The name of the job for which the resume is being scanned.
* resumeName: The name of the resume.
* resumeResults: The results of the resume scan.
* resumeUrl: The URL of the resume to be scanned.
* resumeScanID: The unique identifier of the resume scan.

#### Errors

If the input argument is missing or invalid, the query will throw an error. Possible errors include: Error getting user resume scans: An error occurred while retrieving the user's resume scans from the database.

#### Example

```graphql
query {
  getUserResumeScans(emailAddress: "charlie@catting.co.uk") {
    resumeScanList {
      displayName
      jobName
      resumeName
      resumeResults
      resumeUrl
      resumeScanID
    }
  }
}
```

##### Pipeline

getUserResumeScansLambda


## Query: getUserWorkHistories

### `getUserWorkHistories(emailAddress: AWSEmail!)`

This query returns a list of `WorkHistory` objects associated with the given email address.

#### Input

* `emailAddress: AWSEmail!`: The email address of the user whose work histories should be retrieved.

#### Output

* `WorkHistories`: An object representing the user's work histories.

**`WorkHistories` Fields**

* `workHistory: [WorkHistory]`: A list of `WorkHistory` objects representing the user's work histories.

**`WorkHistory` Fields**

* `workHistoryJobTitle: String`: The title of the user's job.
* `workHistoryEmployer: String`: The employer of the user.
* `workHistoryStartDate: AWSDate`: The start date of the user's employment.
* `workHistoryEndDate: AWSDate`: The end date of the user's employment.
* `workHistoryJobDescription: String`: The description of the user's job.

##### Example

```graphql
query GetWorkHistories {
  getUserWorkHistories(emailAddress: "user@example.com") {
    workHistory {
      workHistoryJobTitle
      workHistoryEmployer
      workHistoryStartDate
      workHistoryEndDate
      workHistoryJobDescription
    }
  }
}
```

##### Errors

This query may return the following errors:

* `UserNotFoundError`: The user with the given email address was not found.
* `ArgumentMissingError`: The query is missing argument
* `InternalServerError`: An internal server error occurred while processing the request.

* There is no EducationsNotFoundError, if no work histories, query will return empty array

##### Pipeline

[getUserHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/e3vcju3pdzgbdozlqovta3v2ni/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)

[getWorkHistoriesHelper](https://us-east-1.console.aws.amazon.com/appsync/home?region=us-east-1#/up5npfondvavvieupq7axw567m/v1/functions/b4kfmtj7tffsrams37tzcrkwa4/edit?referrer=/schema/Query/getWorkHistories/pipelineResolver)


## Query: searchQuestions(Deprecated)

### searchQuestions(keyword: String!): QuestionList!

The `searchQuestions` query takes a required `keyword` argument of type `String` and returns a list of `Question` objects that match the provided keyword in their `interviewQuestion` field.

Input:

* `keyword`: (required) A `String` representing the keyword to search for.

Output:

* `QuestionList`: A list of `Question` objects that match the provided keyword in their `interviewQuestion` field.

\
Example:

```graphql
query {
  searchQuestions(keyword: "leadership") {
    questionList {
      GSI1PK
      interviewQuestion
      interviewQuestionSampleAns
      interviewQuestionType
      QuestionID
      difficulty
      estimatedSecond
    }
  }
}

```

```javascript
{
  "data": {
    "searchQuestions": {
      "questionList": [
        {
          "GSI1PK": "Question#1",
          "interviewQuestion": "Can you describe a time when you demonstrated leadership?",
          "interviewQuestionSampleAns": "Yes, I led a team of 10 people during a software development project...",
          "interviewQuestionType": "STAR",
          "QuestionID": "q1",
          "difficulty": "Intermediate",
          "estimatedSecond": 90
        },
        {
          "GSI1PK": "Question#2",
          "interviewQuestion": "How do you define leadership and what qualities do you think are important for a leader?",
          "interviewQuestionSampleAns": "Leadership is the ability to guide, motivate and inspire people to achieve a common goal...",
          "interviewQuestionType": "Open Ended",
          "QuestionID": "q2",
          "difficulty": "Advanced",
          "estimatedSecond": 120
        },
        {
          "GSI1PK": "Question#5",
          "interviewQuestion": "What are some of the most effective leadership techniques you have used?",
          "interviewQuestionSampleAns": "One technique that has worked well for me is to set clear goals and expectations...",
          "interviewQuestionType": "Open Ended",
          "QuestionID": "q5",
          "difficulty": "Advanced",
          "estimatedSecond": 120
        }
      ]
    }
  }
}

```

Error:

* `InternalServerError`: An internal server error occurred while processing the request.

#### Pipeline

searchInterviewQuestionsLambda


## Query: searchUserInterviews

### searchUserInterviews

This function returns a list of interviews belonging to the specified user, identified by their email address, that contain the specified keyword in their question or id.

Arguments:

* `emailAddress` (required): The email address of the user whose interviews should be searched.
* `keyword` (required): The keyword to search for in the interviews' questions.

Return Value: This function returns an `InterviewList` object, which is a list of interviews belonging to the specified user that contain the specified keyword in their question. Each interview in the list contains the following fields:

* `interviewID`: A unique identifier for the interview.
* `interviewDateTime`: The date and time that the interview was conducted.
* `interviewQuestionID`: A unique identifier for the question that was asked during the interview.
* `interviewVideoKey`: The S3 key for the video recording of the interview.
* `interviewQuestion`: The question that was asked during the interview.
* `interviewQuestionType`: The type of the question that was asked during the interview.

#### Example

Examples: The following example query retrieves a list of interviews for the user with email address "[example@example.com](mailto:example@example.com)" that contain the keyword "Java":

```graphql
query SearchUserInterviews {
  searchUserInterviews(emailAddress: "example@example.com", keyword: "Java") {
    interviewList {
      interviewID
      interviewDateTime
      interviewQuestionID
      interviewVideoKey
      interviewQuestion
      interviewQuestionType
    }
  }
}

```

#### Errors

This query may return the following errors:

* ArgumentMissingError: The query is missing an argument.
* InternalServerError: An internal server error occurred while processing the request.

#### Pipeline

searchUserInterviewsLambda


## Query: searchUserInterviewsPaginated

The `searchUserInterviewsPaginated` query takes in an `emailAddress` of type `AWSEmail` and a `keyword` of type `String` as required arguments. It also takes in an optional `limit` of type `Int` and a `nextToken` of type `String`. It returns a `PaginatedInterviewList` object.

* This function is inefficient, and may be replaced in future versions.

### Input

* `emailAddress` (required): An email address of the user for whom the interviews are being searched.
* `keyword` (required): The keyword to be used for searching the interviews.
* `limit` (optional): An integer representing the maximum number of items to return in the response.
* `nextToken` (optional): A string token returned in the response of the previous call to the same API, which can be used to retrieve the next page of results.

### Output

* `interviewList`: An array of `Interview` objects containing the details of the interviews matching the given `keyword` search.
* `nextToken`: A string token representing the pagination state for the next page of results.
* `totalRecords`: An integer representing the total number of records returned in the response.

\
Example:

```graphql
query {
  searchUserInterviewsPaginated(emailAddress: "testuser@example.com", keyword: "Python", limit: 10, nextToken: "abc123") {
    interviewList {
      interviewID
      interviewDateTime
      interviewQuestion
      interviewQuestionType
      interviewVideoKey
    }
    nextToken
    totalRecords
  }
}

```

Error:

* If an error occurs, the server will return an error response with an appropriate status code and message.

#### Pipeline

searchInterviewPaginatedQuestionsLambda
